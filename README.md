# mojiokoshiitai
「もじおこしーたい」と読みます。録音した音声をリアルタイムで日本語のテキストに変換するPythonスクリプトです。

## Usage
（パッケージを用意してから）スクリプトを実行するだけです。マイクの接続状況や音量に応じて`DEVICE_INDEX`や`AMP_THRESHOLD`を変更してください。

処理を終了するときは、キーワードを発声してください。デフォルトでは`おしまい`がキーワードになっています。任意のキーワードに変更可能です。


## Skills
主な技術は[SpeechRecognition](https://pypi.org/project/SpeechRecognition/) と[PyAudio](https://pypi.org/project/PyAudio/) になります。

録音中に発声の開始を検知し、発声された区間の録音データをテキスト変換の処理へ渡す仕様です。テキスト変換の際、もとの音声データのサイズだとうまくテキストに変換できなかったため、ゼロパディングにより、そのサイズをサンプリングレートの倍数に調整しています。

発声区間の計測には若干の許容を持たせており、フレームの振幅の絶対値の平均2000以下のデータが3回連続して得られた場合に、発声区間の終了を示します。
